@model MyMoneyMyFuture.Models.ViewModels.BaseViewModel

<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    @if (Model != null && Model.CustomMetaTags != null)
    {
        foreach (Sabio.Web.Domain.CMSCustomMeta tag in Model.CustomMetaTags)
        {
            var Value = tag.Value;
            var Name = tag.Name;
            @:
            <meta name="@Name" content="@Value" />


        }
    }
    else if (Model != null && Model.PageMetaTag != null)
    {
        foreach (Sabio.Web.Domain.PageMetaTagValue tag in Model.PageMetaTag)
        {
            var Value = tag.Value;
            var Name = tag.Name;
            @:
            <meta name="@Name" content="@Value" />

        }
    }

    <title>MiDinero | @ViewBag.Title</title>

    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,300,600,700' rel='stylesheet' type='text/css'>

    <!-- Primary vendor style -->
    @Styles.Render("~/bundles/font-awesome/css")
    @Styles.Render("~/bundles/animate/css")
    @Styles.Render("~/bundles/bootstrap/css")
    @Styles.Render("~/bundles/peicon7stroke/css")
    @Styles.Render("~/bundles/toastr/css")
    @Styles.Render("~/bundles/datatables/css")
    <link href="~/Vendor/select2full/select2.min.css" rel="stylesheet" />
    <link href="~/Icons/pe-icon-7-stroke/css/helper.css" rel="stylesheet" />
    <link href="~/Vendor/fooTable/css/footable.core.min.css" rel="stylesheet" />
    @Styles.Render("~/Vendor/sweetalert/lib/sweet-alert.css")
    @Styles.Render("~/Vendor/toastr/build/toastr.min.css")
    @Styles.Render("~/bundles/select2/css")

    <!-- Add local styles, mostly for plugins css file -->
    <link href="https://gitcdn.github.io/bootstrap-toggle/2.2.0/css/bootstrap-toggle.min.css" rel="stylesheet">

    <!-- Primary HOMER style -->
    @Styles.Render("~/bundles/homer/css")

    <!-- MiDinero.css contains ng-cloak CSS and added styling -->
    <link rel="stylesheet" type="text/css" href="~/Content/midinero.css" />
    @if (IsSectionDefined("Styles"))
    {@RenderSection("Styles", required: false)}

    <!--Google Translate Stylings-->
    <style type="text/css">
        .goog-te-gadget {
            font-family: Open Sans !important;
        }

        .goog-te-gadget-simple {
            background-color: #FFFFFF !important;
            border-radius: 3px !important;
            border-left: 1px solid #9C9EA0 !important;
            border-top: 1px solid #9C9EA0 !important;
            border-bottom: 1px solid #9C9EA0 !important;
            border-right: 1px solid #9C9EA0 !important;
        }

            .goog-te-gadget-simple .goog-te-menu-value {
                color: #777777 !important;
            }
    </style>


</head>
<body class="" data-ng-app="sabioApp">

    <!-- Simple splash screen-->
    <div class="splash" ng-controller="splashController as splash">
        <div class="color-line"></div>
        <div class="splash-title"><div id="header" ng-bind-html="splash.loadheader"></div><div class="pad-me-25top" id="subHeader" ng-bind-html="splash.loadSubHeader"></div><div id="img" ng-bind-html="splash.loadImage"></div></div>
    </div>
    <!--[if lt IE 7]>
    <p class="alert alert-danger">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]-->
    <!-- Header -->
    <div id="header">
        @Html.Partial("Homer/_Header")
    </div>

    <!-- Navigation -->
    <aside id="menu">
        @if (Model != null)
        {
            if (!Model.IsAdmin)
            {
                @Html.Partial("Homer/_Navigation")
            }
            else
            {
                @Html.Partial("Homer/_NavigationAdmin")
            }
        }

    </aside>

    <!-- Main view  -->
    <div id="wrapper">
        @RenderBody()

        <!-- Right Sidebar -->
        @Html.Partial("Homer/_Right_Sidebar")

        <!-- Footer-->
        @Html.Partial("Homer/_Footer")
    </div>

    <!-- Section for main scripts render -->
    @Scripts.Render("~/bundles/jquery/js")
    @Scripts.Render("~/bundles/validation/js")
    @Scripts.Render("~/bundles/jqueryval")
    @Scripts.Render("~/bundles/bootstrap/js")
    @Scripts.Render("~/bundles/homer/js")
    @Scripts.Render("~/bundles/validation-add/js")

    <!-- Template Enums-->
    <script type="application/json" id="templateKeyTypes">
        @Html.RawJson(TemplateKeyType.Select.ToDictionaryByValue(1))
    </script>


    <script src="~/Scripts/sabio.js" type="text/javascript"></script>
    <script src="~/Scripts/sabio.ui.alerts.js"></script>
    <script src="~/Scripts/Sabio/sabio.services.analytics.js"></script>

    <script src="~/Scripts/ng/angular.js"></script>
    <script src="~/Scripts/ng/angular-cookies.js"></script>
    @RenderSection("pageInitScripts", required: false)
    <script src="~/Scripts/ng/ui-bootstrap-tpls-0.13.3.js"></script>
    <script src="~/Scripts/ng/angular-sanitize.js"></script>
    <script src="~/Scripts/ng/angular-animate.js"></script>
    <script src="~/Scripts/ng/angular-route.js"></script>
    <script src="~/Scripts/ng/ui-bootstrap-tpls-0.13.3.min.js"></script>
    <script src="~/Scripts/sabio.ng.app.js"></script>
    <script src="~/Scripts/sabio/sabio.services.onlineStatus.js"></script>
    <script src="~/Scripts/app/liveChat/sabio.app.liveChat.js"></script>
    <script src="~/Scripts/jquery.signalR-2.2.0.min.js"></script>
    <script src="~/signalr/hubs"></script>
    <script src="~/Scripts/app/services.js"></script>
    <script src="~/Scripts/app/filters/filters.js"></script>

    <script src="~/Scripts/jq.validation.additional.min.1.14.js"></script>


    <script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>


    @Scripts.Render("~/bundles/jqueryval")
    <script type="text/javascript" src="~/Vendor/sweetalert/lib/sweet-alert.js"></script>
    <script type="text/javascript" src="~/Vendor/toastr/build/toastr.min.js"></script>

    <script src="~/Vendor/select2full/select2.full.js"></script>

    <script src="~/Scripts/sabio/sabio.services.users.js"></script>
    <script src="~/Scripts/app/sabio.app.identityCtrl.js"></script>

    <script type="text/javascript">


        sabio.services.analytics.factory = function ($baseService) {
            var analyticsSabioServiceObject = sabio.services.analytics;
            var newService = $baseService.merge(true, {}, analyticsSabioServiceObject, $baseService);
            return newService;
        }

        sabio.page.splashControllerFactory = function ($scope, $baseController, $analyticsService) {
            var vm = this;

            $baseController.merge(vm, $baseController);

            vm.$scope = $scope;
            vm.analyticsService = $analyticsService;
            vm.notify = vm.analyticsService.getNotifier($scope);

            render();

            function render() {
                sabio.layout.model = @Html.RawJson(Model);

                vm.data = sabio.layout.model;

                console.log(vm.data);
                if (vm.data != null) {
                    if (vm.data.loadingInformation != null) {
                        //Loading Splash Screen Data from vm.data(sabio.layout.model)
                        vm.lH = vm.data.loadingInformation[0];//Loading Information Header
                        vm.lSH = vm.data.loadingInformation[1];//Loading Information Sub Header
                        vm.lI = vm.data.loadingInformation[2];//Loading Information Image

                        //Data for Splash Page

                        vm.loadheader = vm.lH.value;
                        vm.loadSubHeader = vm.lSH.value;
                        vm.loadImage = vm.lI.value;
                        console.log(vm.loadheader);
                    }

                    //Data from vm.data(sabio.layout.model) which also has analytics info
                    var data = {
                        "Action":vm.data.action,
                        "Category":vm.data.category,
                        "PageType":vm.data.pageType,
                        "PageURL":window.location.pathname
                    };

                    //console.log(data);
                    vm.analyticsService.add(data, sabio.page.onSuccess, sabio.page.errorOnRead);//talks to @*sabio.services.analytics.js, referenced with in $analyticsService*@
                }
                else {
                    console.log("NO Data Retrived from sabio.layout.model");
                }

            }

        }

        sabio.ng.addService(sabio.ng.app.module
            , "$analyticsService"
            , ["$baseService"]
            , sabio.services.analytics.factory);

        sabio.ng.addController(sabio.ng.app.module
            , "splashController"
            , ['$scope', '$baseController', '$analyticsService']
            , sabio.page.splashControllerFactory);

        sabio.ng.addService(sabio.ng.app.module
            , "$globalEventService"
            , ["$rootScope"]
            , sabio.ng.app.services.baseEventServiceFactory);

    </script>

    <script type="text/javascript" src="~/Scripts/Sabio/sabio.services.public.js"></script>
    <script type="text/javascript" src="~/Scripts/Sabio/sabio.services.quickquestions.js"></script>

    <script src="https://gitcdn.github.io/bootstrap-toggle/2.2.0/js/bootstrap-toggle.min.js"></script>
    <!-- Handler for local scripts -->
    @RenderSection("scripts", required: false)

    <script src="~/Scripts/app/services.js"></script>



</body>




</html>
